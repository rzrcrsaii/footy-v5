# Footy-Brain v5 Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# API KEYS & EXTERNAL SERVICES
# =============================================================================

# RapidAPI Key for API-Football (REQUIRED)
# Get your key from: https://rapidapi.com/api-sports/api/api-football
RAPIDAPI_KEY=your_rapidapi_key_here

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL/TimescaleDB Connection
DB_PASSWORD=footy_secure_2024
DATABASE_URL=postgresql://footy:${DB_PASSWORD}@localhost:5432/footy

# Database Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Connection
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# Redis Pool Settings
REDIS_POOL_SIZE=10
REDIS_POOL_TIMEOUT=5

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Secret for API authentication (REQUIRED)
JWT_SECRET=footy_jwt_secret_2024_change_this_in_production

# NextAuth Secret for web dashboard (REQUIRED)
NEXTAUTH_SECRET=footy_nextauth_secret_2024_change_this_in_production

# NextAuth URL (for production deployment)
NEXTAUTH_URL=http://localhost:3000

# API CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# API Server Settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# Web Dashboard Settings
WEB_HOST=0.0.0.0
WEB_PORT=3000

# =============================================================================
# WORKER CONFIGURATION
# =============================================================================

# Celery Broker & Backend
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# Worker Concurrency
CELERY_WORKER_CONCURRENCY=4
LIVE_WORKER_CONCURRENCY=2
FRAME_WORKER_CONCURRENCY=1

# =============================================================================
# RATE LIMITING & API QUOTAS
# =============================================================================

# RapidAPI Rate Limits (requests per second/minute/day)
RAPIDAPI_RPS_LIMIT=6
RAPIDAPI_RPM_LIMIT=100
RAPIDAPI_RPD_LIMIT=1000

# Internal API Rate Limits
API_RATE_LIMIT_PER_MINUTE=1000
API_RATE_LIMIT_BURST=100

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# OpenTelemetry Tracing
OTEL_ENABLED=false
OTEL_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=footy-brain

# Grafana Dashboard
GRAFANA_ENABLED=false
GRAFANA_PORT=3001

# =============================================================================
# DATA RETENTION & CLEANUP
# =============================================================================

# TimescaleDB Retention Policies (days)
RETENTION_LIVE_ODDS_TICK=30
RETENTION_LIVE_EVENT_TICK=90
RETENTION_LIVE_STATS_TICK=60
RETENTION_PREMATCH_ODDS=365

# Compression Settings
COMPRESSION_ENABLED=true
COMPRESSION_AFTER_DAYS=7

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/Disable Features
FEATURE_LIVE_ODDS=true
FEATURE_LIVE_EVENTS=true
FEATURE_LIVE_STATS=true
FEATURE_PREMATCH_ODDS=true
FEATURE_PLAYER_STATS=true
FEATURE_TEAM_STATS=true
FEATURE_H2H_STATS=true

# WebSocket Features
WEBSOCKET_ENABLED=true
WEBSOCKET_MAX_CONNECTIONS=1000

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Debug Mode (only for development)
DEBUG=false

# Hot Reload (only for development)
HOT_RELOAD=true



# =============================================================================
# DOCKER SETTINGS
# =============================================================================

# Docker Compose Override
COMPOSE_PROJECT_NAME=footy-brain
COMPOSE_FILE=docker-compose.yml

# Container Resource Limits
API_MEMORY_LIMIT=1g
WORKER_MEMORY_LIMIT=512m
WEB_MEMORY_LIMIT=512m

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================

# Database Backup Settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================

# Slack Notifications (optional)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#footy-brain-alerts

# Email Notifications (optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@footy-brain.com

# =============================================================================
# KUBERNETES SETTINGS (for production deployment)
# =============================================================================

# Kubernetes Namespace
K8S_NAMESPACE=footy-brain

# Image Registry
DOCKER_REGISTRY=ghcr.io/footy-brain
IMAGE_TAG=latest

# Ingress Settings
INGRESS_HOST=footy-brain.com
INGRESS_TLS_SECRET=footy-brain-tls
